<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../partials/head') %>
  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-html-shader@0.2.0/dist/aframe-html-shader.min.js"></script>
</head>

<body>
<header>
  <%- include('../partials/nav') %>
</header>

<section class="section">
  <div class="container has-text-centered">
    <h1 class="title is-1">My Room</h1>
    <p>User Info: email</p>
    <p><%= user_info.email%> </p>
    <p>User Info: name</p>
    <p><%= user_info.name%> </p>
    <p>User Info: rooms</p>
    <p><%= user_info.rooms%> </p>
  </div>
</section>
<section class="section">
  <div class="container has-text-centered">
    <h1 class="title is-1">Enter user profile</h1>
    <form action="/initUser" id="user-profile-initialization" method="POST">
      <label>Username</label>
      <input required type="text" name="name" class="input">
      <label>Rooms</label>
      <input required type="number" name="rooms" class="input">
      <button class="button" type="submit">Save Profile</button>
    </form>
  </div>

<style>
  a-scene {
    height: 600px;
    width: 80%;
    left: 50%;
    margin: 0 0 0 -40%;
  }
</style>

<div class="container" id="myEmbeddedScene">
  <a-scene embedded>

    <!--a-entity geometry="primitive: box" material="shader: html; target: #htmlElement"></a-entity-->

    <!-- Sky -->
    <a-sky color="#E9E9E9"></a-sky>
    <!-- Ambient Light -->
    <a-entity light="type: ambient; color: #A1A1A1"></a-entity>
    <!-- Directional Light -->
    <a-entity light="type: directional; color: #BBBBBB; intensity: 0.5; castShadow: true" position="2 2 1"></a-entity>

    <!-- Camera -->
    <a-entity position="0 0 0" rotation="0 0 0">
      <a-camera user-height="1.6" active="true">
        <a-entity id="myCursor"
                  animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.001 0.001 0.001; to: 0.01 0.01 0.01"
                  animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 0.01 0.01 0.01; to: 0.001 0.001 0.001"
                  animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 0.01 0.01 0.01"
                  cursor="fuse: true;"
                  material="color: #C0C0C0; shader: flat"
                  position="0 0 -1"
                  scale="0.01 0.01 0.01"
                  geometry="primitive: ring"
                  raycaster="objects: .clickable">
        </a-entity>
        <a-entity text="value: Hello World;" position="0 0 1"></a-entity>
      </a-camera>
    </a-entity>

    <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
    <a-entity text="font: mozillavr; value: user email"
              position="-1 2 -3" rotation="0 45 0" scale="8 8 8"></a-entity>
    <a-entity text="font: mozillavr; value: <%= user_info.email%>"
              position="-1 1.5 -3" rotation="0 45 0" scale="8 8 8"></a-entity>
    <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
    <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
    <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4"></a-plane>

    <a-asset-item id="messageText" src="../../../static/pages/info.html"></a-asset-item>
  </a-scene>
</div>

</body>

<script src="https://www.gstatic.com/firebasejs/9.6.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.4/firebase-auth-compat.js"></script>

</html>